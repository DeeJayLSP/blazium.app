<!doctype html>
<html lang="en" class="no-js">
<head>
  <base target="_blank">
  <meta charset="UTF-8" />
  <title>Anon Developer</title>
  <link rel="shortcut icon" type="image/png" href="static/assets/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="static/css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- <script type='text/javascript' src='js/jquery-1.11.1.min.js'></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/1.0.0/particles.min.js" integrity="sha512-zSXd15DNZUoXEVLbyfTa1XQFk33vi7CcJzPHdBh/7Y3NEEec+l/eBhg2RGgRutwQVfrt9EnBmrYzn6d3NxGG1w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript" src="static/js/background.js"></script>

  <style>
    #particles {
      height: 100vh;
      width: 100vw;
      position: relative;
    }

    #logo {
      position: fixed;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
    }

    #release-info {
      position: fixed;
      bottom: 70px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #1e1e1e;
      color: white;
      padding: 20px;
      width: 60%;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 10;
    }

    #intro {
      position: absolute;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    body {
      margin: 0;
      overflow: hidden;
    }
  </style>

</head>

<body>

<div id="particles">
  <!-- Logo Image -->
  <div id="logo">
    <img src="static/assets/logo.png" alt="Blazium Engine Logo" style="width: 350px; height: auto;">
  </div>

  <!-- Intro Section -->
  <div id="intro">
    <h2 style="font-family: 'Syncopate', sans-serif; font-weight: 10;">Blazium Engine</h2>
    <hr style="width: 50%; background-color: #E83951; border-color: #E83951;">
    <a href="https://discord.gg/sZaf9KYzDp" style="color: white;"><i class="fab fa-discord" style="font-size: 2em;"></i></a>
    &nbsp
    <a href="https://github.com/blazium-engine/blazium" style="color: white;"><i class="fab fa-github" style="font-size: 2em;"></i></a>
    &nbsp
    <a href="https://x.com/BlaziumEngine" style="color: white;"><i class="fab fa-x-twitter" style="font-size: 2em;"></i></a>
  </div>

  <!-- Release Information Box -->
  <div id="release-info">
    <h3 style="font-family: 'Syncopate', sans-serif; text-align: center;">Blazium Engine Release Info</h3>
    <p id="release-message" style="text-align: center;">Loading release information...</p>
  </div>
</div>

<script>
  // Function to fetch mirrorlist from the API
  function fetchReleaseInfo() {
  // Dynamically determine the protocol (http/https) and domain
  const protocol = window.location.protocol;
  const host = window.location.host;
  const apiUrl = `${protocol}//${host}/api/mirrorlist/latest/json`;
  
  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const releaseMessage = document.getElementById('release-message');
      
      if (data.mirrors.length === 0) {
        // Show message if mirrors list is empty
        releaseMessage.innerHTML = 'Release is pending, visit our <a href="https://discord.gg/sZaf9KYzDp" style="color: #E83951;">Discord</a> for more information.';
      } else {
        // If mirrors list is available, show the release info
        const mirrors = data.mirrors.map(mirror => `
          <li>
            <a href="${mirror.download_url}" style="color: #E83951;">Download</a> |
            SHA256: ${mirror.sha} |
            Release Date: ${mirror.release_date}
          </li>
        `).join('');
        
        releaseMessage.innerHTML = `
          <ul style="list-style: none; padding-left: 0; text-align: center;">
            ${mirrors}
          </ul>
        `;
      }
    })
    .catch(error => {
      console.error('Error fetching release information:', error);
      document.getElementById('release-message').innerHTML = 'Error fetching release information. Please try again later.';
    });
}

  // Call the function to fetch the release info when the page loads
  window.onload = fetchReleaseInfo;
</script>

</body>
</html>
